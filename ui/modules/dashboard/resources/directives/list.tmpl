<section ng-controller="resourcesAppCtrl">
    <div ng-if="access.list">
        <button class="btn btn-primary f-left" ng-if="access.add" ng-click="addResource()">Add New Resource</button>
        <button class="btn btn-primary f-right" ng-if="access.list" ng-click="listResources()"><span class="icon icon-loop2"></span>Refresh</button>
        <br /><br />
        <div ng-if="!resources || !resources.list || resources.list.length === 0">

        </div>
        <div ng-if="resources && resources.list && resources.list.length > 0">
            <tabset>
                <tab ng-repeat="(type, categories) in resources.types" heading="{{type|capitalizeFirst}}">
                    <br />
                    <accordion close-others="false">
                        <accordion-group ng-repeat="(category, content) in categories" class="entryBoxes entryBoxesGrid">
                            <accordion-heading>{{category}}</accordion-heading>
                            <div ng-repeat="resource in content" class="entryBox resource-box">
                                <div class="header">
                                    {{resource.name}}
                                    <div class="rightActions" style="display:inline;">
                                        <a href="" ng-if="access.delete && !resource.locked" ng-click="deleteResource(resource)" ng-confirm-click="Are you sure you want to delete this resource?">
        									<span class="icon icon-cross" tooltip="Delete Resource"></span>
        								</a>
                                    </div>
                                </div>
                                <div class="body resource-box-body">
                                    <a href="" ng-if="access.update && !resource.plugged" class="btn btn-sm btn-default responsive-width" ng-click="togglePlugResource(resource, true)"><span class="icon icon-power-cord"></span>Plug Resource</a>
                                    <a href="" ng-if="access.update && resource.plugged" class="btn btn-sm btn-default responsive-width" ng-click="togglePlugResource(resource, false)"><span class="icon icon-power-cord"></span>Unplug Resource</a>
                                    <a href="" ng-if="access.update" class="btn btn-sm btn-default responsive-width" ng-click="manageResource(resource, 'update')"><span class="icon icon-cog"></span>Configure Resource</a>
                                </div>
                            </div>
                        </accordion-group>
                    </accordion>
                </tab>
            </tabset>
        </div>
    </div>
</section>
